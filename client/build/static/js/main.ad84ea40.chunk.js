(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{354:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),i=a.n(r),s=a(7),l=a(23),o=a(13),d=(a(211),a(73)),j=a(2),u=a(134),b=a.n(u),O=a(133),m=a.n(O),h=a(1),p=function(e){var t="";switch(e.type){case"default":t=Object(h.jsx)(l.Link,{className:e.altClass?e.altClass:"link_default",to:e.linkTo,style:Object(j.a)({},e.style),children:e.title});break;case"bag_link":t=Object(h.jsxs)("div",{className:"bag_link",onClick:function(){e.runAction()},style:Object(j.a)({},e.style),children:[Object(h.jsx)(b.a,{style:{fontSize:e.iconSize}})," "]});break;case"add_to_cart_link":t=Object(h.jsxs)("div",{className:"add_to_cart_link",onClick:function(){e.runAction()},children:[Object(h.jsx)(b.a,{}),"Add to cart"]});break;default:t=""}return t},x=function(e){return e.length>0?e[0]:"/images/image_not_availble.png"},f=function(e,t){switch(e){case"SUCCESS":d.b.success(t,{position:d.b.POSITION.BOTTOM_RIGHT});break;case"ERROR":d.b.error(t,{position:d.b.POSITION.BOTTOM_RIGHT});break;default:return!1}},v=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}},g=function(){return m.a.load("x-access-token")},y=function(){return{headers:{Authorization:"Bearer ".concat(g())}}},N=a(9),w="GET_PROD_BY_SOLD",_="GET_PROD_BY_DATE",k="GET_PROD_PAGINATE",S="REMOVE_PRODUCT",E="PRODUCT_ADD",T="CLEAR_PRODUCT_ADD",P="GET_PROD_BY_ID",C="CLEAR_CURRENT_PRODUCT",F="GET_ALL_BRANDS",R="ERROR_GLOBAL",A="SUCCESS_GLOBAL",I="CLEAR_NOTIFICATION",q="AUTH_USER",D="SIGN_OUT",B="UPDATE_USER_PROFILE",U="USER_CHANGE_EMAIL",L="USER_ADD_TO_CART",V="PURCHASE_SUCCESS",H=function(e){return{type:q,payload:e}},G=function(e){return{type:R,payload:e}},M=function(e){return{type:A,payload:e}},z=function(){return function(e){return e({type:I})}},Y=function(e){return{type:P,payload:e}},W=function(){return{type:C}},$=function(e){return{type:_,payload:e}},Q=function(e){return{type:k,payload:e}},Z=function(e){return{type:F,payload:e}},J=function(e){return{type:E,payload:e}},K=function(e){return{type:L,payload:e}},X=function(e){var t=Object(N.c)((function(e){return e.notifications})),a=Object(N.b)();return Object(n.useEffect)((function(){t&&t.error&&(f("ERROR",t.msg?t.msg:"Error"),a(z())),t&&t.success&&(f("SUCCESS",t.msg?t.msg:"Success!"),a(z()))}),[t,a]),Object(h.jsxs)(h.Fragment,{children:[e.children,Object(h.jsx)(d.a,{})]})},ee=(a(219),function(e){var t=e.users,a=e.signOutUser;return Object(h.jsx)("header",{className:"bck_b_light",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"left",children:Object(h.jsx)("div",{className:"logo",children:"WAVES"})}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsx)("div",{className:"top",children:t.auth?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"cart_link",children:[Object(h.jsx)("span",{children:"1"}),Object(h.jsx)(l.Link,{to:"/dashboard/user/user_cart",children:"My cart"})]}),Object(h.jsx)(l.Link,{to:"/dashboard",children:"My account"}),Object(h.jsx)("span",{onClick:function(){return a()},children:"Log out"})]}):Object(h.jsx)(l.Link,{to:"/sign_in",children:"Log in"})}),Object(h.jsxs)("div",{className:"bottom",children:[Object(h.jsx)(l.Link,{to:"/",children:"Home"}),Object(h.jsx)(l.Link,{to:"/shop",children:"Shop"})]})]})]})})}),te=a(181),ae=a.n(te),ne=a(182),ce=a.n(ne),re=a(183),ie=a.n(re),se=a(184),le=a.n(se),oe=function(){var e=Object(N.c)((function(e){return e.site}));return Object(h.jsx)("footer",{className:"bck_b_dark",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("div",{className:"logo",children:"WAVES"}),e&&e.vars?Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsx)("h2",{children:"Contact information"}),Object(h.jsxs)("div",{className:"business_nfo",children:[Object(h.jsxs)("div",{className:"tag",children:[Object(h.jsx)(ae.a,{}),Object(h.jsxs)("div",{className:"nfo",children:[Object(h.jsx)("div",{children:"Address"}),Object(h.jsx)("div",{children:e.vars.address})]})]}),Object(h.jsxs)("div",{className:"tag",children:[Object(h.jsx)(ce.a,{}),Object(h.jsxs)("div",{className:"nfo",children:[Object(h.jsx)("div",{children:"Phone"}),Object(h.jsx)("div",{children:e.vars.phone})]})]}),Object(h.jsxs)("div",{className:"tag",children:[Object(h.jsx)(ie.a,{}),Object(h.jsxs)("div",{className:"nfo",children:[Object(h.jsx)("div",{children:"Working hours"}),Object(h.jsx)("div",{children:e.vars.hours})]})]}),Object(h.jsxs)("div",{className:"tag",children:[Object(h.jsx)(le.a,{}),Object(h.jsxs)("div",{className:"nfo",children:[Object(h.jsx)("div",{children:"Email"}),Object(h.jsx)("div",{children:e.vars.email})]})]})]})]}),Object(h.jsxs)("div",{className:"left",children:[Object(h.jsx)("h2",{children:"Be the first to know"}),Object(h.jsx)("div",{children:Object(h.jsx)("div",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat"})})]})]}):null]})})},de=a(110),je=a.n(de),ue=(a(143),a(144),function(e){var t=e.items;return Object(h.jsx)(je.a,Object(j.a)(Object(j.a)({},{dot:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1}),{},{children:t?t.map((function(e,t){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"featured_image",style:{background:"url(".concat(e.img,")"),height:"".concat(window.innerHeight,"px")},children:Object(h.jsxs)("div",{className:"featured_action",children:[Object(h.jsx)("div",{className:"tag title",children:e.lineOne}),Object(h.jsx)("div",{className:"tag low_title",children:e.lineTwo}),Object(h.jsx)("div",{children:"BUTTON"})]})})},t)})):null}))}),be=function(){return Object(h.jsx)("div",{className:"featured_container",children:Object(h.jsx)(ue,{items:[{img:"/images/featured/featured_home.jpg",lineOne:"Fender",lineTwo:"Custom shop",linkTitle:"Show Now",linkTo:"/shop"},{img:"/images/featured/featured_home_2.jpg",lineOne:"B-Stock",lineTwo:"Awesome discounts",linkTitle:"View offers",linkTo:"/shop"}]})})},Oe=function(e){var t=e.items;return Object(h.jsx)("div",{className:"slim_promotion",children:t?Object(h.jsxs)("div",{className:"slim_promotion_img",style:{background:"url(".concat(t.img,")")},children:[Object(h.jsx)("div",{className:"tag title",children:t.lineOne}),Object(h.jsx)("div",{className:"tag low_title",children:t.lineTwo}),Object(h.jsx)("div",{className:"btn",children:Object(h.jsx)(p,{type:"default",title:t.linkTitle,linkTo:t.linkTo})})]}):null})},me=a(12),he=a.n(me),pe=a(26),xe=a(29),fe=a.n(xe),ve=function(e){var t=e.limit,a=e.sortBy,n=e.order,c=e.where;return function(){var e=Object(pe.a)(he.a.mark((function e(r){var i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.get("/api/products/all",{params:{limit:t,sortBy:a,order:n}});case 3:i=e.sent,e.t0=c,e.next="bySold"===e.t0?7:"byDate"===e.t0?9:11;break;case 7:return r((s=i.data,{type:w,payload:s})),e.abrupt("break",12);case 9:return r($(i.data)),e.abrupt("break",12);case 11:return e.abrupt("return",!1);case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(0),r(G("Server error")),console.log(e.t1);case 18:case"end":return e.stop()}var s}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(pe.a)(he.a.mark((function t(a){var n;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.post("/api/products/paginate/all",e);case 3:n=t.sent,a(Q(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(G(t.t0.response.data.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(pe.a)(he.a.mark((function t(a){var n;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.get("/api/products/product/".concat(e));case 3:n=t.sent,a(Y(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(G(t.t0.response.data.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Ne=a(24);fe.a.defaults.headers.post["Content-Type"]="application/json";var we=function(e){return function(){var t=Object(pe.a)(he.a.mark((function t(a,n){var c;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c=n().users.cart,a(K([].concat(Object(Ne.a)(c),[e]))),a(M("".concat(e.model," success add to cart")))}catch(r){a(G(r.response.data.message))}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},_e=function(e){return function(){var t=Object(pe.a)(he.a.mark((function t(a){var n;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.post("/api/transaction/",{order:e},y());case 3:n=t.sent,a(M("Thank you !!")),a((c=n.data,{type:V,payload:c})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(G(t.t0.response.data.message));case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ke=a(93),Se=a(389),Ee=a(111),Te=function(e){var t=e.modal,a=e.errorType,n=e.handleClose;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(ke.a,{show:t,onHide:n,centered:!0,children:[Object(h.jsx)(ke.a.Header,{closeButton:!0,children:Object(h.jsx)(ke.a.Title,{children:" Sorry: "})}),Object(h.jsx)(ke.a.Body,{children:"auth"===a?Object(h.jsx)("div",{children:"Sorry, need register or sign in to continue"}):Object(h.jsx)("div",{children:"Sorry, need to verify account"})}),Object(h.jsx)(ke.a.Footer,{children:"auth"===a?Object(h.jsx)(Ee.LinkContainer,{to:"/sign_in",children:Object(h.jsx)(Se.a,{children:"Go To Register or Sign in"})}):Object(h.jsx)(Se.a,{variant:"primary",onClick:function(){return alert("ok")},children:"Send email verification"})})]})})},Pe=function(e){var t=e.grid,a=e.item,c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)(null),d=Object(s.a)(o,2),j=d[0],u=d[1],b=Object(N.c)((function(e){return e.users})),O=Object(N.b)();return Object(h.jsxs)("div",{className:"card_item_wrapper ".concat(t?"grid_bars":""),children:[Object(h.jsx)("div",{className:"image",style:{background:"url(".concat(x(a.images),")")}}),Object(h.jsxs)("div",{className:"action_container",children:[Object(h.jsxs)("div",{className:"tags",children:[Object(h.jsx)("div",{className:"brand",children:a.brand.name}),Object(h.jsx)("div",{className:"name",children:a.model}),Object(h.jsxs)("div",{className:"name",children:["$",a.price]})]}),t?Object(h.jsx)("div",{className:"description",children:a.description}):null,Object(h.jsxs)("div",{className:"actions",children:[Object(h.jsx)("div",{className:"button_wrapp",children:Object(h.jsx)(p,{type:"default",altClass:"card_link",title:"View product",linkTo:"/product_detail/".concat(a._id),style:{fontWeight:"bold"}})}),Object(h.jsx)("div",{className:"button_wrapp",children:Object(h.jsx)(p,{type:"bag_link",runAction:function(){return function(e){return b.auth?b.data.verified?void O(we(e)):(l(!0),u("verified"),!1):(l(!0),u("auth"),!1)}(a)},iconSize:"23"})})]})]}),Object(h.jsx)(Te,{modal:i,errorType:j,handleClose:function(){return l(!1)}})]})},Ce=function(e){var t=e.items,a=e.title,n=e.shop,c=e.grid;return Object(h.jsxs)("div",{className:n?"card_block_shop":"card_block",children:[Object(h.jsx)("div",{className:n?"":"container"}),a?Object(h.jsx)("div",{className:"title",children:a}):null,Object(h.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t?t.map((function(e){return Object(h.jsx)(Pe,{item:e,grid:c},e._id)})):null})]})},Fe=a(390),Re=function(e){var t=e.full;return Object(h.jsx)("div",{className:"root_loader ".concat(t?"full":""),children:Object(h.jsx)(Fe.a,{})})},Ae={img:"/images/featured/featured_home_3.jpg",lineOne:"Up to 40% off",lineTwo:"In second hand guitar",linkTitle:"Show Now",linkTo:"/shop"},Ie=function(){var e=Object(N.c)((function(e){return e.products})),t=e.bySold,a=e.byDate,c=Object(N.b)();return Object(n.useEffect)((function(){c(ve({limit:4,sortBy:"itemSold",order:"desc",where:"bySold"})),c(ve({limit:4,sortBy:"date",order:"desc",where:"byDate"}))}),[c]),console.log(t),Object(h.jsxs)("div",{children:[Object(h.jsx)(be,{}),t?Object(h.jsx)(Ce,{items:t,title:"Best Selling Gutitar"}):Object(h.jsx)(Re,{}),Object(h.jsx)(Oe,{items:Ae}),a?Object(h.jsx)(Ce,{items:a,title:"Latests guitars on the shop"}):Object(h.jsx)(Re,{})]})},qe=a(397),De=a(31),Be=a(15),Ue=a(410),Le=function(e){var t=Object(o.t)(),a=Object(N.c)((function(e){return e.notifications})),c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],l=r[1],d=Object(N.b)(),u=Object(De.a)({initialValues:{email:"",password:""},validationSchema:Be.d({email:Be.e().required("Sorry the email is required").email("This is invalid email"),password:Be.e().required("Sorry the password is required")}),onSubmit:function(e){b(e),l(!0)}}),b=function(t){e.formType?(console.log(t),d(function(e){return function(){var t=Object(pe.a)(he.a.mark((function t(a){var n;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.post("/api/auth/register",{email:e.email,password:e.password});case 3:n=t.sent,a(H({data:n.data.user,auth:!0})),a(M("Welcome! check your email to verify account")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(G(t.t0.response.data.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))):d(function(e){return function(){var t=Object(pe.a)(he.a.mark((function t(a){var n;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.post("/api/auth/signin",{email:e.email,password:e.password});case 3:n=t.sent,a(H({data:n.data.user,auth:!0})),a(M("Welcome! check your email to verify account")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(G(t.t0.response.data.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(n.useEffect)((function(){a&&a.success&&t("/dashboard"),l(!1)}),[a,t]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"auth_container",children:i?Object(h.jsx)(Re,{}):Object(h.jsxs)("form",{className:"mt-3",onSubmit:u.handleSubmit,children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"email",label:"Enter your email",variant:"outlined"},u.getFieldProps("email")),v(u,"email")))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"password",label:"Enter your password",variant:"outlined",type:"password"},u.getFieldProps("password")),v(u,"password")))}),Object(h.jsx)(qe.a,{variant:"contained",color:"primary",type:"submit",size:"small",children:e.formType?"Register":"Login"})]})})})},Ve=function(e){var t=Object(N.c)((function(e){return e.users}));return Object(h.jsx)(h.Fragment,{children:t.auth?Object(h.jsx)(o.b,{to:"/dashboard"}):e.children})},He=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1];console.log("props",e);return Object(h.jsx)(Ve,{children:Object(h.jsx)("div",{className:"page_wrapper",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"register_login_container",children:[Object(h.jsxs)("div",{className:"left",children:[c?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"New customers"}),Object(h.jsx)("p",{children:"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo."})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Welcome back"}),Object(h.jsx)("p",{children:"Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum"})]}),Object(h.jsx)(qe.a,{variant:"contained",color:"default",size:"small",onClick:function(){r(!c)},children:c?"Already registered ?":"Need to register"})]}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsx)("h2",{children:c?"Register":"Sign in"}),Object(h.jsx)(Le,Object(j.a)({formType:c},e))]})]})})})})};function Ge(e){return function(t){var a=Object(n.useState)(!1),c=Object(s.a)(a,2),r=c[0],i=c[1],l=Object(N.c)((function(e){return e.users})),d=Object(o.t)();return Object(n.useEffect)((function(){l.auth?i(!0):d("/")}),[l,d]),r?Object(h.jsx)(e,Object(j.a)({users:l},t)):Object(h.jsx)(Re,{full:!0})}}var Me=[{name:"My account",linkTo:"/dashboard"},{name:"User information",linkTo:"/dashboard/user/user_info"},{name:"My cart",linkTo:"/dashboard/user/user_cart"}],ze=[{name:"Products",linkTo:"/dashboard/admin/admin_products"},{name:"Manage site",linkTo:"/dashboard/admin/manage_site"}],Ye=function(e){var t=Object(N.c)((function(e){return e.users})),a=function(e){return e.map((function(e,t){return Object(h.jsx)(l.Link,{to:e.linkTo,children:e.name},"".concat(e.name).concat(t))}))};return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"user_container page_container",children:[Object(h.jsxs)("div",{className:"user_left_nav",children:[Object(h.jsx)("h2",{children:"My account"}),Object(h.jsx)("div",{className:"links",children:a(Me)}),"admin"===t.data.role?Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Admin"}),Object(h.jsx)("div",{className:"links",children:a(ze)})]}):null]}),Object(h.jsxs)("div",{className:"user_right",children:[Object(h.jsx)("div",{className:"dashboard_title",children:Object(h.jsx)("h1",{children:e.title})}),e.children]})]})})},We=a(398),$e=a(118),Qe=a.n($e),Ze=function(e){var t=e.history;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(We.a,{striped:!0,bordered:!0,hover:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Date"}),Object(h.jsx)("th",{children:"Products"}),Object(h.jsx)("th",{children:"Amount paid"}),Object(h.jsx)("th",{children:"Order ID"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)(Qe.a,{to:e.date})}),Object(h.jsx)("td",{children:e.items.map((function(e,t){return Object(h.jsx)("div",{children:e.name},t)}))}),Object(h.jsx)("td",{children:e.amount}),Object(h.jsx)("td",{children:e.orderID})]},e.transactionId)}))})]})})},Je=function(e){var t=e.users;return Object(h.jsx)(Ye,{title:"Overview",children:Object(h.jsxs)("div",{className:"user_nfo_panel",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:t.data.firstname}),Object(h.jsx)("span",{children:t.data.lastname}),Object(h.jsx)("span",{children:t.data.email})]}),t.data.history.length>0?Object(h.jsxs)("div",{className:"user_nfo_panel",children:[Object(h.jsx)("h1",{children:"History of purchases"}),Object(h.jsx)("div",{className:"user_product_block_wrapper",children:Object(h.jsx)(Ze,{history:t.data.history})})]}):null]})})},Ke=a(412),Xe=a(399),et=a(409),tt=function(e){var t=e.users,a=Object(n.useState)(!1),c=Object(s.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)(!1),o=Object(s.a)(l,2),d=o[0],u=o[1],b=Object(N.c)((function(e){return e.notifications})),O=Object(n.useState)(0),m=Object(s.a)(O,2),p=m[0],x=m[1],f=Object(N.b)(),g=Object(De.a)({enableReinitialize:!0,initialValues:{email:"",newemail:""},validationSchema:Be.d({email:Be.e().required("This is required").email("This is not valid email").test("match","Please check youremail",(function(e){return e===t.data.email})),newemail:Be.e().required("This is required").email("This is not valid email").test("match","Please check youremail",(function(e){return e!==t.data.email}))}),onSubmit:function(e){var t;i(!0),f((t=e,function(){var e=Object(pe.a)(he.a.mark((function e(a){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.patch("/api/users/email",{email:t.email,newemail:t.newemail},y());case 3:a((n=t.newemail,{type:U,payload:n})),a(M("Goodjob, Remember to verify your account")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(G(e.t0.response.data.message));case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}}),w=function(){return u(!1)},_=function(){x((function(e){return e+1}))},k=function(){x((function(e){return e-1}))},S=function(){return Object(h.jsx)(qe.a,{className:"mt-3",variant:"contained",color:"primary",onClick:_,children:"Next"})},E=function(){return Object(h.jsx)(qe.a,{className:"mt-3",style:{marginRight:"6px"},variant:"contained",onClick:k,children:"Back"})};return Object(n.useEffect)((function(){b&&b.success&&w(),i(!1)}),[b]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{className:"mt-3 article_form",style:{maxWidth:"250px"},children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,{className:"mb-3",style:{width:"250px"},name:"emailstatic",variant:"outlined",disabled:!0,value:t.data.email})}),Object(h.jsx)(qe.a,{className:"mb-3",variant:"contained",color:"primary",onClick:function(){return u(!0)},children:"Edit Email"}),Object(h.jsxs)(ke.a,{centered:!0,size:"lg",show:d,onHide:w,children:[Object(h.jsx)(ke.a.Header,{closeButton:!0,children:Object(h.jsx)(ke.a.Title,{children:"Modal heading"})}),Object(h.jsxs)(ke.a.Body,{children:[Object(h.jsx)(Ke.a,{activeStep:p,children:["Enter old Email","Enter new Email","Are you sure?"].map((function(e,t){return Object(h.jsx)(Xe.a,{children:Object(h.jsx)(et.a,{children:e})},t)}))}),0===p?Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"email",label:"current email",variant:"outlined"},g.getFieldProps("email")),v(g,"email"))),g.values.email&&!g.errors.email&&S()]}):null,1===p?Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"newemail",label:"new email",variant:"outlined"},g.getFieldProps("newemail")),v(g,"newemail"))),E(),g.values.newemail&&!g.errors.newemail&&S()]}):null,2===p?r?Object(h.jsx)(Re,{}):Object(h.jsxs)(h.Fragment,{children:[E(),Object(h.jsx)(qe.a,{className:"mb-3",variant:"contained",color:"primary",onClick:g.submitForm,children:"Edit Email"})]}):null]})]})]})})},at=function(e){var t=e.users,a=Object(N.b)(),n=Object(De.a)({enableReinitialize:!0,initialValues:{firstname:t.data.firstname,lastname:t.data.lastname},validationSchema:Be.d({firstname:Be.e().min(3,"3 char min").max(30,"30 char max").required("Sorry, you need the firstname"),lastname:Be.e().min(3,"3 char min").max(30,"30 char max").required("Sorry, you need the lastname")}),onSubmit:function(e){var t;a((t=e,function(){var e=Object(pe.a)(he.a.mark((function e(a,n){var c,r;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.patch("/api/users/profile",{data:t},y());case 3:c=e.sent,r=Object(j.a)(Object(j.a)({},n().users.data),{},{firstname:c.data.firstname,lastname:c.data.lastname}),a({type:B,payload:r}),a(M("Profile updated !!")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a(G(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}});return Object(h.jsxs)(Ye,{title:"User information",children:[Object(h.jsxs)("form",{className:"mt-3 article_form",style:{maxWidth:"250px"},onSubmit:n.handleSubmit,children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"firstname",label:"Enter your firstname",variant:"outlined"},n.getFieldProps("firstname")),v(n,"firstname")))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"lastname",label:"Enter your lastname",variant:"outlined"},n.getFieldProps("lastname")),v(n,"lastname")))}),Object(h.jsx)(qe.a,{className:"mb-3",variant:"contained",color:"primary",type:"submit",children:"Edit profile"})]}),Object(h.jsx)("hr",{}),Object(h.jsx)(tt,{users:t})]})},nt=a(407),ct=function(e){var t=e.prods,a=e.prev,n=e.next,c=e.goToEdit,r=e.removeModal,i=e.handleClose,s=e.handleModal,l=e.handleRemove,o=function(e){a(e)},d=function(e){n(e)};return Object(h.jsxs)(h.Fragment,{children:[t&&t.docs?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(We.a,{className:"mt-3",striped:!0,bordered:!0,hover:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Created"}),Object(h.jsx)("th",{children:"Model"}),Object(h.jsx)("th",{children:"Available"}),Object(h.jsx)("th",{children:"Action"})]})}),Object(h.jsx)("tbody",{children:t.docs.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[" ",Object(h.jsx)(Qe.a,{to:e.date})]}),Object(h.jsx)("td",{children:e.model}),Object(h.jsx)("td",{children:e.available}),Object(h.jsx)("td",{className:"action_btn remove_btn",onClick:function(){return s(e._id)},children:"Remove"}),Object(h.jsx)("td",{className:"action_btn edit_btn",onClick:function(){return c(e._id)},children:"Edit"})]},e._id)}))})]}),Object(h.jsxs)(nt.a,{children:[t.hasPrevPage?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(nt.a.Prev,{onClick:function(){return o(t.prevPage)}}),Object(h.jsx)(nt.a.Item,{onClick:function(){return o(t.prevPage)},children:t.prevPage})]}):null,Object(h.jsx)(nt.a.Item,{active:!0,children:t.page}),t.hasNextPage?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(nt.a.Item,{onClick:function(){return d(t.nextPage)},children:t.nextPage}),Object(h.jsx)(nt.a.Next,{onClick:function(){return d(t.nextPage)}})]}):null]}),Object(h.jsx)("hr",{}),Object(h.jsx)(Ee.LinkContainer,{to:"/dashboard/admin/add_products",children:Object(h.jsx)(Se.a,{variant:"secondary",children:"Add Product"})})]}):Object(h.jsx)(Re,{}),Object(h.jsxs)(ke.a,{show:r,onHide:i,children:[Object(h.jsx)(ke.a.Header,{children:Object(h.jsx)(ke.a.Title,{children:"Are You Sure?"})}),Object(h.jsx)(ke.a.Body,{children:"Thre is going back"}),Object(h.jsxs)(ke.a.Footer,{children:[Object(h.jsx)(Se.a,{variant:"secondary",onClick:i,children:"Opps Close This Now"}),Object(h.jsx)(Se.a,{variant:"danger",onClick:l,children:"DELETE"})]})]})]})},rt={keywords:"",brand:[],min:0,max:1e4,frets:[],page:1},it=function(e){var t=Object(o.t)(),a=Object(N.b)(),c=Object(N.c)((function(e){return e.products})),r=Object(N.c)((function(e){return e.notifications})),i=Object(n.useReducer)((function(e,t){return Object(j.a)(Object(j.a)({},e),t)}),rt),l=Object(s.a)(i,2),d=l[0],u=l[1],b=Object(n.useState)(null),O=Object(s.a)(b,2),m=O[0],p=O[1],x=Object(n.useState)(!1),f=Object(s.a)(x,2),g=f[0],w=f[1],_=function(){w(!1)},k=function(){var e;a((e=m,function(){var t=Object(pe.a)(he.a.mark((function t(a){return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.a.delete("/api/products/product/".concat(e),y());case 3:a({type:S}),a(M()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(G(t.t0.response.data.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},E=function(e){u({page:e})},T=Object(De.a)({initialValues:{keywords:""},validationSchema:Be.d({keywords:Be.e().min(3,"You need more than3").max(200,"Your search is to long")}),onSubmit:function(e,t){var a=t.resetForm;u({keywords:e.keywords,page:1}),a()}}),P=function(){u(rt)};return Object(n.useEffect)((function(){a(ge(d)),console.log(d)}),[a,d]),Object(n.useEffect)((function(){_(),w(null),r&&r.removeArticle&&a(ge(d))}),[a,d,r]),Object(h.jsx)(Ye,{title:"Products",children:Object(h.jsxs)("div",{className:"products_table",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("form",{className:"mt-3",onSubmit:T.handleSubmit,children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"keywords",label:"your search",variant:"outlined"},T.getFieldProps("keywords")),v(T,"keywords")))}),Object(h.jsx)(Se.a,{onClick:function(){return P},children:"Reset search"})]}),Object(h.jsx)(ct,{removeModal:g,handleClose:function(){return _()},handleModal:function(e){return function(e){p(e),w(!0)}(e)},handleRemove:function(){k()},prods:c.byPaginate,prev:function(e){return E(e)},next:function(e){return E(e)},goToEdit:function(e){return function(e){t("/dashboard/admin/edit_products/".concat(e))}(e)}})]})})},st={model:"",brand:"",frets:"",woodtype:"",description:"",price:"",available:"",images:[],shipping:!1},lt=function(){return Be.d({model:Be.e().required("Sorry, the model is required"),brand:Be.e().required("Sorry, the brand is required"),frets:Be.c().required("Sorry, the frets is required").oneOf([20,21,22,24],"Only 20,21,22,24 allowed"),woodtype:Be.e().required("Sorry, the woodtype is required"),description:Be.e().required("Sorry, the description is required"),price:Be.c().required("Must be a price").min(1,"Sorry the min is 1").max(1e5,"Sorry its 500 max"),available:Be.c().required("Do we have stock ?"),shipping:Be.a().required("Do we offer shipping")})},ot=a(393),dt=a(406),jt=a(400),ut=a(396),bt=a(401),Ot=function(){return function(){var e=Object(pe.a)(he.a.mark((function e(t){var a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.get("/api/brands/all");case 3:a=e.sent,t(Z(a.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(G(e.t0.response.data.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},mt=a(405),ht=function(e){var t=e.picValue,a=Object(n.useState)(!1),c=Object(s.a)(a,2),r=c[0],i=c[1],l=Object(De.a)({initialValues:{pic:""},validationSchema:Be.d({pic:Be.b().required("A file is required")}),onSubmit:function(e){i(!0);var a=new FormData;a.append("file",e.pic),console.log(a),fe.a.post("/api/products/upload",a,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(g())}}).then((function(e){t(e.data)})).catch((function(e){})).finally((function(){i(!1)}))}});return Object(h.jsx)(h.Fragment,{children:r?Object(h.jsx)(Re,{}):Object(h.jsxs)(mt.a,{onSubmit:l.handleSubmit,children:[Object(h.jsxs)(mt.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(h.jsx)(mt.a.Control,{type:"file",onChange:function(e){l.setFieldValue("pic",e.target.files[0])}}),l.errors.pic&&l.touched.pic?Object(h.jsx)("div",{children:"Error"}):null]}),Object(h.jsx)(Se.a,{variant:"secondary",type:"submit",children:"Add Image"})]})})},pt=function(e){var t=e.formik,a=e.deletePic,c=Object(n.useState)(null),r=Object(s.a)(c,2),i=r[0],l=r[1],o=Object(n.useState)(!1),d=Object(s.a)(o,2),j=d[0],u=d[1],b=function(){return u(!1)};return Object(h.jsxs)(h.Fragment,{children:[t.values&&t.values.images?t.values.images.map((function(e,t){return Object(h.jsx)("div",{className:"pic_block",onClick:function(){return l(t),void u(!0)},style:{background:"url(".concat(e,")")}},t)})):null,Object(h.jsxs)(ke.a,{show:j,onHide:b,children:[Object(h.jsx)(ke.a.Header,{closeButton:!0,children:Object(h.jsx)(ke.a.Title,{children:"Confirm Delete"})}),Object(h.jsx)(ke.a.Body,{children:"Are you sure want to delete this?"}),Object(h.jsxs)(ke.a.Footer,{children:[Object(h.jsx)(Se.a,{variant:"secondary",onClick:b,children:"Close"}),Object(h.jsx)(Se.a,{variant:"danger",onClick:function(){a(i),b(),l(null)},children:"Delete"})]})]})]})},xt=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(o.t)(),l=Object(N.c)((function(e){return e.notifications})),d=Object(N.c)((function(e){return e.brands})),u=Object(N.b)(),b=Object(De.a)({initialValues:{model:"",brand:"",frets:"",woodtype:"",description:"",price:"",available:"",images:[],shipping:!1},validationSchema:lt,onSubmit:function(e){O(e)}}),O=function(e){var t;r(!0),u((t=e,function(){var e=Object(pe.a)(he.a.mark((function e(a){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.a.post("/api/products/",t,y());case 3:n=e.sent,a(J(n.data)),a(M()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(G(e.t0.response.data.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};return Object(n.useEffect)((function(){l&&l.success?i("/dashboard/admin/admin_products"):l&&l.error&&r(!1)}),[l,i]),Object(n.useEffect)((function(){u(Ot())}),[u]),console.log(b.values),Object(h.jsx)(Ye,{title:"Add Product",children:c?Object(h.jsx)(Re,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(pt,{deletePic:function(e){return function(e){var t=b.values.images;t.splice(e,1),b.setFieldValue("images",t)}(e)},formik:b}),Object(h.jsx)(ht,{picValue:function(e){return function(e){var t=b.values.images;t.push(e.url),b.setFieldValue("images",t),console.log("tes")}(e)}}),Object(h.jsxs)("form",{className:"mt-3 article_form",onSubmit:b.handleSubmit,children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"model",label:"Enter a model",variant:"outlined"},b.getFieldProps("model")),v(b,"model")))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"frets",label:"Enter the amount of frets",variant:"outlined",type:"number"},b.getFieldProps("frets")),v(b,"frets")))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"woodtype",label:"Enter the woodtype",variant:"outlined"},b.getFieldProps("woodtype")),v(b,"woodtype")))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsxs)(ot.a,{variant:"outlined",children:[Object(h.jsx)("h5",{children:"Select a brand"}),Object(h.jsxs)(dt.a,Object(j.a)(Object(j.a)({name:"brand"},b.getFieldProps("brand")),{},{error:!(!b.errors.brand||!b.touched.brand),children:[Object(h.jsx)(jt.a,{value:"",children:Object(h.jsx)("em",{children:"None"})}),d&&d.all?d.all.map((function(e){return Object(h.jsx)(jt.a,{value:e._id,children:e.name},e._id)})):null]})),b.errors.brand&&b.touched.brand?Object(h.jsx)(ut.a,{error:!0,children:b.errors.brand}):null]})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)(Object(j.a)({style:{width:"100%"},name:"description",label:"Enter the description",variant:"outlined"},b.getFieldProps("description")),v(b,"description")),{},{multiline:!0,rows:4}))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"price",label:"Enter the price",variant:"outlined",type:"number"},b.getFieldProps("price")),v(b,"price")))}),Object(h.jsx)(bt.a,{className:"mt-3 mb-3"}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"available",label:"How many of this do we have on storage ?",variant:"outlined",type:"number"},b.getFieldProps("available")),v(b,"available")))}),Object(h.jsx)(bt.a,{className:"mt-3 mb-3"}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsxs)(ot.a,{variant:"outlined",children:[Object(h.jsx)("h5",{children:"Do we offer free shipping"}),Object(h.jsxs)(dt.a,Object(j.a)(Object(j.a)({name:"shipping"},b.getFieldProps("shipping")),{},{error:!(!b.errors.shipping||!b.touched.shipping),children:[Object(h.jsx)(jt.a,{value:!0,children:" Yes "}),Object(h.jsx)(jt.a,{value:!1,children:" Nop "})]})),b.errors.shipping&&b.touched.shipping?Object(h.jsx)(ut.a,{error:!0,children:b.errors.shipping}):null]})}),Object(h.jsx)(bt.a,{className:"mt-3 mb-3"}),Object(h.jsx)(qe.a,{variant:"contained",color:"primary",type:"submit",children:"Add product"})]})]})})},ft=function(){var e=Object(n.useState)(st),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),l=i[0],d=i[1],u=Object(o.w)(),b=Object(N.c)((function(e){return e.notifications})),O=Object(N.c)((function(e){return e.brands})),m=Object(N.b)(),p=Object(N.c)((function(e){return e.products})),x=Object(De.a)({enableReinitialize:!0,initialValues:a,validationSchema:lt,onSubmit:function(e){f(e)}}),f=function(e){d(!0),m(function(e,t){return function(){var a=Object(pe.a)(he.a.mark((function a(n){return he.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fe.a.patch("/api/products/product/".concat(t),e,y());case 3:n(M("Update done")),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),n(G(a.t0.response.data.message));case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}(e,u.id)),console.log(u.id)};return Object(n.useEffect)((function(){b&&d(!1)}),[b]),Object(n.useEffect)((function(){var e=u.id;m(Ot()),e&&m(ye(e))}),[m,u.id]),Object(n.useEffect)((function(){var e;p&&p.byId&&c({model:(e=p.byId).model,brand:e.brand._id,frets:e.frets,woodtype:e.woodtype,description:e.description,price:e.price,available:e.available,images:e.images,shipping:e.shipping})}),[p]),Object(n.useEffect)((function(){return function(){m(W())}}),[m]),console.log(x.values),Object(h.jsx)(Ye,{title:"Add Product",children:l?Object(h.jsx)(Re,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(pt,{deletePic:function(e){return function(e){var t=x.values.images;t.splice(e,1),x.setFieldValue("images",t)}(e)},formik:x}),Object(h.jsx)(ht,{picValue:function(e){return function(e){var t=x.values.images;t.push(e.url),x.setFieldValue("images",t)}(e)}}),Object(h.jsxs)("form",{className:"mt-3 article_form",onSubmit:x.handleSubmit,children:[Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"model",label:"Enter a model",variant:"outlined"},x.getFieldProps("model")),v(x,"model")))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"frets",label:"Enter the amount of frets",variant:"outlined",type:"number"},x.getFieldProps("frets")),v(x,"frets")))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"woodtype",label:"Enter the woodtype",variant:"outlined"},x.getFieldProps("woodtype")),v(x,"woodtype")))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsxs)(ot.a,{variant:"outlined",children:[Object(h.jsx)("h5",{children:"Select a brand"}),Object(h.jsxs)(dt.a,Object(j.a)(Object(j.a)({name:"brand"},x.getFieldProps("brand")),{},{error:!(!x.errors.brand||!x.touched.brand),children:[Object(h.jsx)(jt.a,{value:"",children:Object(h.jsx)("em",{children:"None"})}),O&&O.all?O.all.map((function(e){return Object(h.jsx)(jt.a,{value:e._id,children:e.name},e._id)})):null]})),x.errors.brand&&x.touched.brand?Object(h.jsx)(ut.a,{error:!0,children:x.errors.brand}):null]})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)(Object(j.a)({style:{width:"100%"},name:"description",label:"Enter the description",variant:"outlined"},x.getFieldProps("description")),v(x,"description")),{},{multiline:!0,rows:4}))}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"price",label:"Enter the price",variant:"outlined",type:"number"},x.getFieldProps("price")),v(x,"price")))}),Object(h.jsx)(bt.a,{className:"mt-3 mb-3"}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},name:"available",label:"How many of this do we have on storage ?",variant:"outlined",type:"number"},x.getFieldProps("available")),v(x,"available")))}),Object(h.jsx)(bt.a,{className:"mt-3 mb-3"}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsxs)(ot.a,{variant:"outlined",children:[Object(h.jsx)("h5",{children:"Do we offer free shipping"}),Object(h.jsxs)(dt.a,Object(j.a)(Object(j.a)({name:"shipping"},x.getFieldProps("shipping")),{},{error:!(!x.errors.shipping||!x.touched.shipping),children:[Object(h.jsx)(jt.a,{value:!0,children:" Yes "}),Object(h.jsx)(jt.a,{value:!1,children:" Nop "})]})),x.errors.shipping&&x.touched.shipping?Object(h.jsx)(ut.a,{error:!0,children:x.errors.shipping}):null]})}),Object(h.jsx)(bt.a,{className:"mt-3 mb-3"}),Object(h.jsx)(qe.a,{variant:"contained",color:"primary",type:"submit",children:"Add product"})]})]})})},vt=a(192),gt=a.n(vt),yt=a(191),Nt=a.n(yt),wt=function(e){var t=e.prods,a=e.prev,n=(e.next,e.resetSearch),c=function(e){a(e)},r=function(e){a(e)};return Object(h.jsx)(h.Fragment,{children:t.docs.length>0?Object(h.jsxs)(nt.a,{children:[t.hasPrevPage?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(nt.a.Prev,{onClick:function(){return c(t.prevPage)}}),Object(h.jsx)(nt.a.Item,{onClick:function(){return c(t.prevPage)},children:t.prevPage})]}):null,Object(h.jsxs)(nt.a.Item,{active:!0,children:[" ",t.page]}),t.hasNextPage?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(nt.a.Item,{onClick:function(){return r(t.nextPage)},children:t.nextPage}),Object(h.jsx)(nt.a.Next,{onClick:function(){return r(t.nextPage)}})]}):null]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Sorry nothing was found"}),Object(h.jsx)(Se.a,{className:"mt-3",variant:"primary",onClick:n,children:"Reset Button"})]})})},_t=function(e){var t=e.handleKeywords,a=Object(De.a)({initialValues:{keywords:""},validationSchema:Be.d({keywords:Be.e().min(3,"You need search more than 3").max(200,"you need to search less than 200")}),onSubmit:function(e,a){var n=a.resetForm;t(e.keywords),n()}});return Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("form",{className:"mt-3",onSubmit:a.handleSubmit,children:Object(h.jsx)("div",{children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({style:{width:"100%"},placeholder:"Search guitar",variant:"outlined"},a.getFieldProps("keywords")),v(a,"keywords")))})})})},kt=a(119),St=a.n(kt),Et=a(120),Tt=a.n(Et),Pt=a(356),Ct=a(402),Ft=a(403),Rt=a(408),At=a(395),It=a(404),qt=function(e){var t=e.title,a=e.initState,c=e.list,r=e.handleFilters,i=Object(n.useState)(a),l=Object(s.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)([]),u=Object(s.a)(j,2),b=u[0],O=u[1];return Object(h.jsx)("div",{className:"collapse_item_wrapper",children:Object(h.jsxs)(At.a,{children:[Object(h.jsxs)(Pt.a,{onClick:function(){return d(!o)},children:[Object(h.jsx)(Ct.a,{primary:t,className:"collapse_title"}),o?Object(h.jsx)(St.a,{}):Object(h.jsx)(Tt.a,{})]}),Object(h.jsx)(It.a,{in:o,timeout:"auto",children:Object(h.jsx)(At.a,{component:"div",disablePadding:!0,children:c?c.map((function(e){return Object(h.jsxs)(Pt.a,{children:[Object(h.jsx)(Ct.a,{primary:e.name}),Object(h.jsx)(Ft.a,{children:Object(h.jsx)(Rt.a,{color:"primary",onChange:function(){return function(e){var t=b.indexOf(e),a=Object(Ne.a)(b);-1===t?a.push(e):a.splice(t,1),O(a),r(a)}(e._id)},checked:-1!==b.indexOf(e._id)})})]},e._id)})):null})})]})})},Dt=function(e){var t=e.title,a=e.initState,c=e.handleRange,r=Object(n.useState)(a),i=Object(s.a)(r,2),l=i[0],o=i[1],d=Object(De.a)({initialValues:{min:0,max:5e3},validationSchema:Be.d({min:Be.c().min(0,"The min amount 0"),max:Be.c().max(5e3,"The max amount 5000")}),onSubmit:function(e){c([+e.min,+e.max]),console.log(e)}});return Object(h.jsx)("div",{className:"collapse_item_wrapper",children:Object(h.jsxs)(At.a,{children:[Object(h.jsxs)(Pt.a,{onClick:function(){return o(!l)},children:[Object(h.jsx)(Ct.a,{primary:t,className:"collapse_title"}),l?Object(h.jsx)(St.a,{}):Object(h.jsx)(Tt.a,{})]}),Object(h.jsx)(It.a,{in:l,timeout:"auto",children:Object(h.jsx)(At.a,{component:"div",disablePadding:!0,children:Object(h.jsxs)("form",{className:"mt-3",onSubmit:d.handleSubmit,children:[Object(h.jsx)("div",{children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({placeholder:"$ min",name:"min",variant:"outlined"},d.getFieldProps("min")),v(d,"min")))}),Object(h.jsx)("div",{children:Object(h.jsx)(Ue.a,Object(j.a)(Object(j.a)({placeholder:"$ max",name:"max",variant:"outlined"},d.getFieldProps("max")),v(d,"max")))}),Object(h.jsx)(qe.a,{type:"submit",className:"mt-3",variant:"outlined",color:"secondary",size:"small",children:"Search"})]})})})]})})},Bt={keywords:"",brand:[],min:0,max:5e3,frets:[],page:1},Ut=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useReducer)((function(e,t){return Object(j.a)(Object(j.a)({},e),t)}),Bt),i=Object(s.a)(r,2),l=i[0],o=i[1],d=Object(N.c)((function(e){return e.products})).byPaginate,u=Object(N.c)((function(e){return e.brands})),b=Object(N.b)(),O=function(e){o({page:e})},m=function(){return c(!a)};return Object(n.useEffect)((function(){b(Ot())}),[b]),Object(n.useEffect)((function(){b(ge(l))}),[b,l]),Object(h.jsxs)("div",{className:"page_container",children:[Object(h.jsx)("div",{className:"page_top",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(_t,{handleKeywords:function(e){o({keywords:e,page:1})}})})}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"shop_wrapper",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsx)(qt,{initState:!0,title:"Brands",list:u.all,handleFilters:function(e){return function(e,t){console.log(e,l),"brands"===t&&o({brand:e,page:1})}(e,"brands")}}),Object(h.jsx)(Dt,{title:"Range Price",handleRange:function(e){return function(e){o({min:e[0],max:e[1],page:1}),console.log(l)}(e)}})]}),Object(h.jsx)("div",{className:"right",children:Object(h.jsxs)("div",{className:"shop_options",children:[Object(h.jsxs)("div",{className:"shop_grids clear",children:[Object(h.jsx)("div",{className:"grid_btn ".concat(a?"":"active"),onClick:function(){return m()},children:Object(h.jsx)(Nt.a,{})}),Object(h.jsx)("div",{className:"grid_btn ".concat(a?"active":""),onClick:function(){return m()},children:Object(h.jsx)(gt.a,{})})]}),Object(h.jsx)("div",{children:d&&d.docs?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Ce,{grid:a,items:d.docs}),Object(h.jsx)(wt,{prods:d,prev:function(e){return O(e)},next:function(e){return O(e)},resetSearch:function(){o({keywords:""})}})]}):null})]})})]})})]})},Lt=a(193),Vt=a.n(Lt),Ht=a(136),Gt=a.n(Ht),Mt=a(194),zt=a.n(Mt),Yt=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(null),l=Object(s.a)(i,2),o=l[0],d=l[1],j=Object(N.c)((function(e){return e.users})),u=Object(N.b)(),b=e.detail;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:[b.brand.name," ",b.model]}),Object(h.jsx)("p",{children:b.description}),function(e){return Object(h.jsxs)("div",{className:"product_tags",children:[Object(h.jsxs)("div",{className:"tag",children:[Object(h.jsx)("div",{children:Object(h.jsx)(Vt.a,{})}),Object(h.jsx)("div",{className:"tag_text",children:e.shipping?Object(h.jsx)("div",{children:"Free shipping for US location"}):Object(h.jsx)("div",{children:"No free shipping for this item"})})]}),e.available>0?Object(h.jsxs)("div",{className:"tag",children:[Object(h.jsx)("div",{children:Object(h.jsx)(Gt.a,{})}),Object(h.jsx)("div",{className:"tag_text",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("strong",{children:e.available})," product/s in wharehouse available."]})})]}):Object(h.jsxs)("div",{className:"tag",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(Gt.a,{}),Object(h.jsx)(zt.a,{})]}),Object(h.jsx)("div",{className:"tag_text",children:Object(h.jsx)("div",{children:"Sorry, product not Available at the moment"})})]})]})}(b),function(e){return Object(h.jsxs)("div",{className:"product_actions",children:[Object(h.jsxs)("div",{className:"price",children:["$ ",e.price]}),Object(h.jsx)("div",{className:"cart",children:Object(h.jsx)(p,{type:"add_to_cart_link",runAction:function(){return t=e,j.auth?j.data.verified?void u(we(t)):(r(!0),d("verified"),!1):(r(!0),d("auth"),!1);var t}})})]})}(b),function(e){return Object(h.jsxs)("div",{className:"product_specifications",children:[Object(h.jsx)("h2",{children:"Specs:"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("strong",{children:"Frets:"})," ",e.frets]}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("strong",{children:"Wood:"})," ",e.woodtype]})]})]})}(b),Object(h.jsx)(Te,{modal:c,errorType:o,handleClose:function(){return r(!1)}})]})},Wt=function(){var e=Object(N.c)((function(e){return e.products})),t=Object(N.b)(),a=Object(o.w)("id"),c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],l=r[1];return Object(n.useEffect)((function(){t(ye(a.id))}),[t,a.id]),Object(n.useEffect)((function(){return function(){t(W())}}),[t]),Object(h.jsxs)("div",{className:"page_container",children:[Object(h.jsx)("div",{className:"page_top",children:Object(h.jsx)("div",{className:"container",children:"Product detail"})}),Object(h.jsxs)("div",{className:"container",children:[e&&e.byId?Object(h.jsxs)("div",{className:"product_detail_wrapper",children:[Object(h.jsx)("div",{className:"left",children:Object(h.jsx)("div",{children:Object(h.jsx)("img",{alt:e.byId.model,src:x(e.byId.images),onClick:function(){e.byId.images.length>0&&l(!0)}})})}),Object(h.jsx)("div",{className:"right",children:Object(h.jsx)(Yt,{detail:e.byId})})]}):Object(h.jsx)(Re,{}),Object(h.jsxs)(ke.a,{show:i,onHide:function(){return l(!1)},dialogClassName:"modal-90w",children:[Object(h.jsx)(ke.a.Header,{closeButton:!0}),Object(h.jsx)(ke.a.Body,{children:Object(h.jsx)(je.a,Object(j.a)(Object(j.a)({},{dot:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:e.byId&&e.byId.images?e.byId.images.map((function(e){return Object(h.jsx)("div",{style:{margin:"0 auto"},children:Object(h.jsx)("div",{className:"img-block",style:{background:"url(".concat(e,") no-repeat")}})},e)})):null}))})]})]})]})},$t=function(e){var t=e.products,a=e.removeItem;return Object(h.jsx)("div",{children:t?t.map((function(e,t){return Object(h.jsxs)("div",{className:"user_product_block",children:[Object(h.jsx)("div",{className:"item",children:Object(h.jsx)("div",{className:"image",style:{background:"url(".concat(x(e.images),") no-repeat")}})}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("h4",{children:"Product name"}),Object(h.jsxs)("div",{children:[e.brand.name," ",e.model]})]}),Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("h4",{children:"Price"}),Object(h.jsxs)("div",{children:["$ ",e.price]})]}),Object(h.jsx)("div",{className:"item btn",children:Object(h.jsx)("div",{className:"cart_remove_btn",onClick:function(){return a(t)},children:"Remove"})})]},"".concat(e._id).concat(t))})):null})},Qt=a(121),Zt=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(N.c)((function(e){return e.notifications})),l=Object(N.b)(),d=Object(o.t)(),j=function(e){l(function(e){return function(){var t=Object(pe.a)(he.a.mark((function t(a,n){var c;return he.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{(c=n().users.cart).splice(e,1),a(K(c))}catch(r){a(G(r.response.data.message))}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(e))},u=function(){var t=0;return e.users.cart.forEach((function(e){t+=parseInt(e.price,10)})),t},b=function(){return e.users.cart.map((function(e){return{unit_amount:{currency_code:"USD",value:e.price},quantity:1,name:e.model}}))};return Object(n.useEffect)((function(){i&&i.success&&(d("/dashboard"),r(!1))}),[d,i]),Object(h.jsx)(Ye,{title:"Your Cart",children:e.users.cart&&e.users.cart.length>0?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)($t,{products:e.users.cart,removeItem:function(e){return j(e)}}),Object(h.jsx)("div",{className:"user_cart_sum",children:Object(h.jsxs)("div",{children:["Total amount: $",u()]})}),c?Object(h.jsx)(Re,{}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"pp_button",children:Object(h.jsx)(Qt.a,{style:{color:"silver",layout:"horizontal",height:48,tagline:!1,shape:"pill"},createOrder:function(e,t){return t.order.create({purchase_units:[{description:"Guitar and accesoris",amount:{currency_code:"USD",value:u(),breakdown:{item_total:{currency_code:"USD",value:u()}}},items:b()}]})},onApprove:function(){var e=Object(pe.a)(he.a.mark((function e(t,a){var n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.order.capture();case 2:n=e.sent,r(!0),l(_e(n));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})})})]}):Object(h.jsx)("div",{children:"There is nothing in your cart"})})},Jt=function(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),c=a[0],r=a[1],i=Object(N.c)((function(e){return e.users})),d=Object(N.b)(),j=Ge(Je),u=Ge(at),b=Ge(xt),O=Ge(ft),p=Ge(it),x=Ge(Zt);Object(n.useEffect)((function(){d(function(){var e=Object(pe.a)(he.a.mark((function e(t){var a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,g){e.next=3;break}throw new Error;case 3:return e.next=5,fe.a.get("/api/auth/isauth",y());case 5:a=e.sent,t(H({data:a.data,auth:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(H({data:{},auth:!1}));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[d]),Object(n.useEffect)((function(){null!==i.auth&&r(!1)}),[i]);return Object(h.jsx)(Qt.b,{options:{"client-id":"AafF-ilgCw3zH_008annZos2hxDEIFZmCbsR2PsTGOTd69oc8YZtNEgtmh3Bm5uSqQPinfmwaQywbYU0",currency:"USD"},children:Object(h.jsx)(l.BrowserRouter,{children:c?Object(h.jsx)(Re,{full:!0}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ee,{users:i,signOutUser:function(){d(function(){var e=Object(pe.a)(he.a.mark((function e(t){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.a.remove("x-access-token",{path:"/"}),t((function(e){return e({type:D})})),t(M("Good bye!"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),Object(h.jsx)(X,{children:Object(h.jsxs)(o.f,{children:[Object(h.jsx)(o.d,{path:"/dashboard/user/user_cart",element:Object(h.jsx)(x,{})}),Object(h.jsx)(o.d,{path:"/product_detail/:id",element:Object(h.jsx)(Wt,{})}),Object(h.jsx)(o.d,{path:"/dashboard/admin/add_products",element:Object(h.jsx)(b,{})}),Object(h.jsx)(o.d,{path:"/dashboard/admin/edit_products/:id",element:Object(h.jsx)(O,{})}),Object(h.jsx)(o.d,{path:"/dashboard/admin/admin_products",element:Object(h.jsx)(p,{})}),Object(h.jsx)(o.d,{path:"/dashboard/user/user_info",element:Object(h.jsx)(u,{})}),Object(h.jsx)(o.d,{path:"/dashboard",element:Object(h.jsx)(j,{})}),Object(h.jsx)(o.d,{path:"/shop",element:Object(h.jsx)(Ut,{})}),Object(h.jsx)(o.d,{path:"/sign_in",element:Object(h.jsx)(He,{})}),Object(h.jsx)(o.d,{path:"/",element:Object(h.jsx)(Ie,{})})]})}),Object(h.jsx)(oe,{})]})})})},Kt=(a(354),a(83)),Xt=a(195),ea={data:{_id:null,email:null,firstname:null,lastname:null,history:[],verified:null},auth:null,cart:[]};var ta=Object(Kt.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(j.a)(Object(j.a)({},e),{},{data:Object(j.a)(Object(j.a)({},e.data),t.payload.data),auth:t.payload.auth});case D:return Object(j.a)(Object(j.a)({},e),{},{data:Object(j.a)({},ea.data),auth:!1});case B:return Object(j.a)(Object(j.a)({},e),{},{data:Object(j.a)({},t.payload)});case U:return Object(j.a)(Object(j.a)({},e),{},{data:Object(j.a)(Object(j.a)({},e.data),{},{email:t.payload})});case L:return Object(j.a)(Object(j.a)({},e),{},{cart:t.payload});case V:return Object(j.a)(Object(j.a)({},e),{},{data:Object(j.a)(Object(j.a)({},e.data),{},{history:t.payload.history}),cart:[]});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(j.a)(Object(j.a)({},e),{},{bySold:t.payload});case _:return Object(j.a)(Object(j.a)({},e),{},{byDate:t.payload});case k:return Object(j.a)(Object(j.a)({},e),{},{byPaginate:t.payload});case E:return Object(j.a)(Object(j.a)({},e),{},{lastAdded:t.payload});case T:return Object(j.a)(Object(j.a)({},e),{},{lastAdded:null});case P:return Object(j.a)(Object(j.a)({},e),{},{byId:t.payload});case C:return Object(j.a)(Object(j.a)({},e),{},{byId:null});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(j.a)(Object(j.a)({},e),{},{error:!0,msg:t.payload});case A:return Object(j.a)(Object(j.a)({},e),{},{success:!0,msg:t.payload});case I:return{};case S:return Object(j.a)(Object(j.a)({},e),{},{removeArticle:!0});default:return e}},brands:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(j.a)(Object(j.a)({},e),{},{all:t.payload});default:return e}}}),aa=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Kt.c;return Object(Kt.d)(ta,e(Object(Kt.a)(Xt.a)))};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(N.a,{store:aa(),children:Object(h.jsx)(Jt,{})})}),document.getElementById("root"))}},[[355,1,2]]]);
//# sourceMappingURL=main.ad84ea40.chunk.js.map